<br>
<h2 class="text-center">
  Find <strong>relevant</strong> finance opportunities
</h2>
<h5 class="text-center heartbeat-text" style="color: green;">
  <%= Ukfinancejob.all.count %> jobs posted

</h5>
<br>
<button class="btn mobile-only w-100 btn-green" data-bs-toggle="collapse" href="#collapseExample1" role="button" aria-expanded="false" aria-controls="collapseExample1">+ What is this?</button>

<div class="d-flex justify-content-center">
  <button class="btn desktop-only  btn-green" data-bs-toggle="collapse" href="#collapseExample1" role="button" aria-expanded="false" aria-controls="collapseExample1">+ What is this?</button>  
</div>


         
<div class="collapse -only" id="collapseExample1">
  <p class="container">
    A focused and all-encompassing overview of EU/UK high finance job roles for juniors (up to associate). Make sure to take advantage of <strong>spring & insight internships!</strong>
  </p>
</div>


<% if current_user and current_user.admin == true %>
<br>
<br>
    <%= link_to 'Add UK Finance Job', new_ukfinancejob_path, class: 'btn btn-primary btn-dark' %>
<% end %>

<div class="filter-container desktop-only">
  <br>
  <form action="<%= ukfinancejobs_path %>" method="get">
    <div class="form-row">
    <div class="col-md-3 p-3">
    <%= select_tag :location, options_for_select([["Select location", ""]].concat(@locations), params[:location]), { class: "form-control" } %>
  </div>
  <div class="col-md-3 p-3">
  <%= select_tag :type_of_job, options_for_select([["Select type of job", ""]].concat(@types_of_job), params[:type_of_job]), { class: "form-control" } %>
  </div>

  <div class="col-md-3 p-3">
    <%= select_tag :company, options_for_select([["Select company", ""]].concat(@companies), params[:company]), { class: "form-control" } %>
  </div>

  <div class="col-md-3 p-3 checkbox-container">
    <%= check_box_tag :application_opening_date_filter, 'true', params[:application_opening_date_filter] == 'true' %>
    <%= label_tag :application_opening_date_filter, ' Open applications only' %>
  </div>

  <!--
  <div class="col-md-3 p-3">
  <%= label_tag :rolling_admission, "Rolling Admission" %>
  <%= select_tag :rolling_admission, options_for_select([["Select rolling admission", ""], ['All', ''], ['Yes', 'true'], ['No', 'false']], params[:rolling_admission]), class: "form-control" %>
  </div>
  -->
    </div>
    <div class="d-flex justify-content-center">
      <%= submit_tag "Filter", class: "btn-dark btn btn-primary",  style: "width: 20%;" %>  
    </div>
    
  </form>
</div>

<!-- mobile view -->

<div class="filter-container mobile-only">
  <br>
  <form action="<%= ukfinancejobs_path %>" method="get">
    <div class="form-row">
    <div class="col-md-3 p-3 w-100">
    <%= select_tag :location, options_for_select([["Select location", ""]].concat(@locations), params[:location]), { class: "form-control w-100" } %>
  </div>
  <div class="col-md-3 p-3 w-100">
  <%= select_tag :type_of_job, options_for_select([["Select type of job", ""]].concat(@types_of_job), params[:type_of_job]), { class: "form-control w-100" } %>
  </div>
  <div class="col-md-3 p-3 w-100">
    <%= select_tag :company, options_for_select([["Select company", ""]].concat(@companies), params[:company]), { class: "form-control" } %>
  </div>

  <div class="col-md-3 p-3 checkbox-container">
    <%= check_box_tag :application_opening_date_filter, 'true', params[:application_opening_date_filter] == 'true' %>
    <%= label_tag :application_opening_date_filter, ' Open applications only' %>
  </div>

  <!--
  <div class="col-md-3 p-3">
  <%= label_tag :rolling_admission, "Rolling Admission" %>
  <%= select_tag :rolling_admission, options_for_select([["Select rolling admission", ""], ['All', ''], ['Yes', 'true'], ['No', 'false']], params[:rolling_admission]), class: "form-control" %>
  </div>
  -->
    </div>
    <div class="d-flex justify-content-center">
      <%= submit_tag "Filter", class: "btn-dark btn btn-primary",  style: "width: 20%;" %>  
    </div>
    
  </form>
</div>


<div class="" style="width:100%;">
  <div class="row d-flex  justify-content-center">
    
      <% @ukfinancejobs.each do |ukfinancejob| %>
      <div class="col-6" style="background-color: white; border: 1px solid black; padding: 5px; width:165px; margin: 5px;">
      <h6 class="text-center bold"><%= ukfinancejob.title %></h6>
      <div class="d-flex justify-content-center mt-3"> 
        <%= cl_image_tag ukfinancejob.photo.key, height: 75, crop: :fill %>
      </div>
      <p class="text-center mt-2"> <%= ukfinancejob.location %></p>
      <p class="text-center italic italic_small" style="margin-top: -15px;">Apply by <%= ukfinancejob.deadline_date.day %> <%= t('date.abbr_month_names')[ukfinancejob.deadline_date.month] %> <%= ukfinancejob.deadline_date.year %></p>
      
      <%= link_to 'View', ukfinancejob_path(ukfinancejob), class: 'btn btn-green', style: 'width: 100%' %>
      </div>
      <% if current_user and current_user.admin == true %>
            <br>
            <br>
            <div>
              <%= link_to 'Edit', edit_ukfinancejob_path(ukfinancejob), class: 'btn btn-primary w-100' %>  
            </div>
            <br>
            <br> 
            <div>
              <%= button_to 'Delete', ukfinancejob_path(ukfinancejob), method: :delete, class: 'btn btn-danger w-100', data: { confirm: 'Are you sure you want to delete this job?' }, form: { "data-remote": true } %>  
            </div>
            
          <% end %>
      <% end %>
    
  </div>
</div>
          
        
<style type="text/css">
  .form-control{
    
  }

  .checkbox-container {
    display: flex;
    align-items: center;
  }

  .checkbox-container input[type="checkbox"] {
    transform: scale(2.5); /* Adjust the scale value as needed */
    margin-right: 10px; /* Add spacing between checkbox and label */
  }

  .checkbox-container label {
    font-size: 16px; /* Adjust the font size as needed */
    color: #555; /* Adjust the color as needed */
    font-weight: bold; /* Add font weight as desired */
    padding-left:5px;
  }

</style>
