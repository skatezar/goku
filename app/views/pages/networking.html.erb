<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Networking Calendar - UK and Europe finance jobs</title>
</head>
<body>

<% if current_user and current_user.admin == true %>
  <%= link_to "new event", new_meeting_path, class: "btn btn-white" %>
<% end %>

<br>
<br>
<h4 class="text-center">
  <i class="fa-regular fa-calendar"></i> Networking Calendar 
</h4>


<br>

<button class="btn mobile-only w-100 btn-green" data-bs-toggle="collapse" href="#collapseExample1" role="button" aria-expanded="false" aria-controls="collapseExample1">+ What is this?</button>

<div class="d-flex justify-content-center">
  <button class="btn desktop-only btn-green" data-bs-toggle="collapse" href="#collapseExample1" role="button" aria-expanded="false" aria-controls="collapseExample1">+ What is this?</button>  
</div>


<br>
         
<div class="collapse -only" id="collapseExample1">
  <p class="container">
    This calendar will inform you about any virtual/in person networking events available within London/Europe. Click on an event for more details on registrations.
  </p>
  <p class="container" style="margin-top:-20px;">
    Attending these networking sessions - especially if they are in person - can be <strong>vital to your success in finding a job.</strong>
    <hr>
  </p>

</div>


<!--
<div class="d-flex justify-content-center">
  <%= link_to "Filter Events", meetingfilter_path,  class: "btn btn-dark" %>  
</div>
-->

<div class="desktop-only">
<%= calendar(number_of_days: 30, events: @meetings) do |date, meetings| %>
  <%= date.day %>
  <% meetings.each do |meeting| %>
    <%= link_to meeting_path(meeting) do %>

    <i class="fa-regular fa-circle-dot" style="color: red;">
     </i>
     <br>
     <div class="d-flex justify-content-center">
      <%= cl_image_tag meeting.photo1.key, height: 70, width: 70, crop: :fill %>  
     </div>
     
     <% end %>

    <br>
    <div class="d-flex justify-content-center">
      <i style="margin-left:1px; margin-top: -15px;" class="fa-solid fa-location-dot"></i>
      <p style="margin-left:10px; margin-top: -18px;">
        <%= meeting.location %>
      </p>
    </div>
    <div class="d-flex justify-content-center italic_small" style="margin-top:-12px; font-size: 14px;">  
      <p class="text-center">
        <%= meeting.name %>
      </p>
    </div>

  <% end %>
<% end %> 
</div>

<div class="mobile-only">
  <%= month_calendar(events: @meetings) do |date, meetings| %>
  <%= date.day %>
  <% meetings.each do |meeting| %>
  <% if meeting.present? %>
    <%= link_to meeting_path(meeting) do %>
    <i class="fa-regular fa-circle-dot" style="color: red;">
     </i>

     <div class="d-flex justify-content-center">
      <%= cl_image_tag meeting.photo1.key, height: 40, width: 40, crop: :fill %> 
     </div>
     
     <% end %>
     
    </div>
  <% end %>
  <br>
    <div class="d-flex justify-content-center">
      <i class="fa-solid fa-location-dot" style="margin-top:4px; font-size:12px;"></i>
      <p style="margin-left:2px; margin-top:2px; font-size:12px;">
        <%= meeting.location %>
      </p>
    </div>
    <div class="d-flex justify-content-center italic_small" style="margin-top:-12px;">  
      <p class="text-center">
        <%= meeting.name %>
      </p>
    </div>

  <% end %>
<% end %>
</div>

<p class="italic_small text-center">click on a day for more details!</p>



<script type="text/javascript">
  // Text to search for (case-sensitive)
  var searchText = 'Today';

  // Find all anchor elements on the page
  var allAnchors = document.getElementsByTagName('a');

  // Array to store matching anchor elements
  var matchingAnchors = [];

  // Loop through all anchor elements to find the matching ones
  for (var i = 0; i < allAnchors.length; i++) {
    var anchorElement = allAnchors[i];

    // Check if the anchor element's text matches the search text
    if (anchorElement.textContent === searchText) {
      // Add the matching anchor element to the array
      matchingAnchors.push(anchorElement);
    }
  }

  // Now matchingAnchors array contains all anchor elements with the specified text
  // You can perform actions on each matching anchor element
  matchingAnchors.forEach(function(anchorElement) {
    anchorElement.style.display = 'none'; // For example, change their color
  });

  console.log('Found matching anchor elements:', matchingAnchors);
</script>


<style type="text/css">

  .simple-calendar .calendar-heading nav {
    display: block;
  }

  .simple-calendar .calendar-heading {
    text-align: center;
    margin-top:25px;
  }

  .simple-calendar .calendar-heading nav a {
    padding: 10px 20px;
    background-color: #004080;
    color: white;
  }
</style>